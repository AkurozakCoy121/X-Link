<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextCounter - Character & Word Counter Tool</title>
    
    <!-- ====== PROPELLERADS ====== -->
    <!-- Vignette -->
    <script>(function(s){s.dataset.zone='10381513',s.src='https://gizokraijaw.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    
    <!-- Push 1 -->
    <script src="https://3nbf4.com/act/files/tag.min.js?z=10381259" data-cfasync="false" async></script>
    
    <!-- Push 2 -->
    <script src="https://3nbf4.com/act/files/tag.min.js?z=10381292" data-cfasync="false" async></script>
    
    <style>
        /* RESET */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }
        
        body {
            background: #f8fafc;
            color: #1e293b;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        /* HEADER CLEAN */
        .header {
            background: white;
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #3b82f6;
        }
        
        /* MAIN LAYOUT */
        .main-wrapper {
            display: flex;
            max-width: 1200px;
            margin: 1.5rem auto;
            padding: 0 1rem;
            gap: 1.5rem;
        }
        
        /* LEFT SIDEBAR - ADS 160x600 */
        .sidebar-left {
            width: 180px;
            flex-shrink: 0;
        }
        
        /* RIGHT SIDEBAR - ADS 160x600 */
        .sidebar-right {
            width: 180px;
            flex-shrink: 0;
        }
        
        /* MAIN CONTENT */
        .main-content {
            flex: 1;
            min-width: 0;
        }
        
        /* TOOL CARD */
        .tool-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 1.5rem;
        }
        
        /* TEXTAREA */
        .text-input {
            width: 100%;
            min-height: 200px;
            padding: 1.5rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.75rem;
            font-size: 1rem;
            line-height: 1.6;
            resize: vertical;
            transition: all 0.3s;
        }
        
        .text-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        /* STATS GRID */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .stat-box {
            background: #f1f5f9;
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: #64748b;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        /* BUTTONS */
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin: 1.5rem 0;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background: #3b82f6;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #f1f5f9;
            color: #475569;
            border: 1px solid #e2e8f0;
        }
        
        .btn-secondary:hover {
            background: #e2e8f0;
        }
        
        .btn-premium {
            background: linear-gradient(90deg, #f59e0b, #f97316);
            color: white;
            font-weight: bold;
        }
        
        /* AD CONTAINERS */
        .ad-container {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-bottom: 1rem;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .ad-label {
            font-size: 0.7rem;
            color: #94a3b8;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* TOP BANNER AD */
        .top-banner-ad {
            max-width: 728px;
            margin: 1.5rem auto;
        }
        
        /* INLINE AD */
        .inline-ad {
            margin: 1.5rem 0;
        }
        
        /* BOTTOM BANNER AD */
        .bottom-banner-ad {
            max-width: 728px;
            margin: 2rem auto;
        }
        
        /* PREMIUM BANNER */
        .premium-banner {
            background: linear-gradient(90deg, #1e293b, #334155);
            color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: center;
        }
        
        /* FOOTER */
        .footer {
            text-align: center;
            padding: 2rem;
            color: #64748b;
            border-top: 1px solid #e2e8f0;
            margin-top: 2rem;
        }
        
        /* RESPONSIVE */
        @media (max-width: 1024px) {
            .main-wrapper {
                flex-direction: column;
            }
            
            .sidebar-left,
            .sidebar-right {
                width: 100%;
                display: flex;
                flex-wrap: wrap;
                gap: 1rem;
                justify-content: center;
            }
            
            .ad-container {
                flex: 1;
                min-width: 300px;
                max-width: 300px;
            }
        }
        
        @media (max-width: 768px) {
            .tool-card {
                padding: 1.5rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .btn-group {
                justify-content: center;
            }
        }
        
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .stat-number {
                font-size: 2rem;
            }
        }
        
        /* NOTIFICATION */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            background: #10b981;
            color: white;
            border-radius: 0.5rem;
            z-index: 1000;
            animation: slideIn 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            font-weight: 500;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
    </style>
</head>
<body>
    <!-- PROPELLERADS VIGNETTE & PUSH AKTIF OTOMATIS -->
    
    <!-- HEADER -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <span>üìä</span>
                <span>TextCounter</span>
            </div>
            <div style="color: #64748b; font-size: 0.9rem;">
                Free Character & Word Counter
            </div>
        </div>
    </header>
    
    <!-- TOP BANNER AD (728x90) -->
    <div class="top-banner-ad">
        <div class="ad-container">
            <div class="ad-label">Advertisement</div>
            <div id="topBannerAd"></div>
        </div>
    </div>
    
    <!-- MAIN WRAPPER -->
    <div class="main-wrapper">
        <!-- LEFT SIDEBAR - ADS 160x600 -->
        <div class="sidebar-left">
            <div class="ad-container">
                <div class="ad-label">Sponsored</div>
                <div id="leftAd1"></div>
            </div>
            <div class="ad-container">
                <div class="ad-label">Recommended</div>
                <div id="leftAd2"></div>
            </div>
        </div>
        
        <!-- MAIN CONTENT -->
        <div class="main-content">
            <!-- TOOL CARD -->
            <div class="tool-card">
                <h1 style="margin-bottom: 1.5rem; color: #1e293b;">üìù Character & Word Counter</h1>
                <p style="color: #64748b; margin-bottom: 1.5rem;">
                    Paste or type your text below. Get instant character, word, sentence, and paragraph counts.
                </p>
                
                <textarea 
                    class="text-input" 
                    id="textInput" 
                    placeholder="Start typing or paste your text here..."
                    oninput="updateCount()"
                >Welcome to TextCounter! This free tool helps you count characters, words, sentences, and paragraphs in real-time. Perfect for writers, students, and professionals who need to meet specific length requirements. Try it now - it's completely free and works 100% in your browser!</textarea>
                
                <!-- STATS GRID -->
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-number" id="charCount">0</div>
                        <div class="stat-label">Characters</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="charNoSpace">0</div>
                        <div class="stat-label">Chars (no spaces)</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="wordCount">0</div>
                        <div class="stat-label">Words</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="sentenceCount">0</div>
                        <div class="stat-label">Sentences</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="paragraphCount">0</div>
                        <div class="stat-label">Paragraphs</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="readingTime">0</div>
                        <div class="stat-label">Reading Time</div>
                    </div>
                </div>
                
                <!-- BUTTONS -->
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="clearText()">
                        üóëÔ∏è Clear Text
                    </button>
                    <button class="btn btn-secondary" onclick="copyText()">
                        üìã Copy Text
                    </button>
                    <button class="btn btn-secondary" onclick="pasteText()">
                        üì• Paste Text
                    </button>
                    <button class="btn-premium btn" onclick="showPremiumOffer()">
                        ‚≠ê Premium Tools
                    </button>
                </div>
                
                <!-- INLINE AD (300x250) -->
                <div class="inline-ad">
                    <div class="ad-container">
                        <div class="ad-label">Advertisement</div>
                        <div id="inlineAd1"></div>
                    </div>
                </div>
                
                <!-- EXTRA FEATURES -->
                <div style="margin-top: 2rem;">
                    <h3 style="color: #1e293b; margin-bottom: 1rem;">‚ú® Advanced Features</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <button class="btn-secondary btn" onclick="convertToUppercase()">
                            üî† UPPERCASE
                        </button>
                        <button class="btn-secondary btn" onclick="convertToLowercase()">
                            üî° lowercase
                        </button>
                        <button class="btn-secondary btn" onclick="removeExtraSpaces()">
                            ‚úÇÔ∏è Trim Spaces
                        </button>
                        <button class="btn-secondary btn" onclick="reverseText()">
                            üîÑ Reverse Text
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- PREMIUM BANNER -->
            <div class="premium-banner">
                <h3 style="margin-bottom: 0.5rem;">üöÄ Upgrade to TextCounter Pro</h3>
                <p style="margin-bottom: 1rem; opacity: 0.9;">
                    Get advanced features: Export reports, plagiarism check, grammar suggestions, and unlimited history!
                </p>
                <button class="btn-premium btn" onclick="showPremiumOffer()" style="padding: 0.75rem 2rem; font-size: 1rem;">
                    üî• Get Pro Now - Limited Offer!
                </button>
            </div>
            
            <!-- INLINE AD 2 (300x250) -->
            <div class="inline-ad">
                <div class="ad-container">
                    <div class="ad-label">Sponsored</div>
                    <div id="inlineAd2"></div>
                </div>
            </div>
        </div>
        
        <!-- RIGHT SIDEBAR - ADS 160x600 -->
        <div class="sidebar-right">
            <div class="ad-container">
                <div class="ad-label">Advertisement</div>
                <div id="rightAd1"></div>
            </div>
            <div class="ad-container">
                <div class="ad-label">Recommended</div>
                <div id="rightAd2"></div>
            </div>
            <div class="ad-container">
                <div class="ad-label">Advertisement</div>
                <div id="rightAd3"></div>
            </div>
        </div>
    </div>
    
    <!-- BOTTOM BANNER AD (728x90) -->
    <div class="bottom-banner-ad">
        <div class="ad-container">
            <div class="ad-label">Advertisement</div>
            <div id="bottomBannerAd"></div>
        </div>
    </div>
    
    <!-- FOOTER -->
    <footer class="footer">
        <p>¬© 2025 TextCounter ‚Ä¢ Free character and word counting tool</p>
        <p style="margin-top: 0.5rem; font-size: 0.9rem;">
            Works 100% in your browser ‚Ä¢ No data collection ‚Ä¢ No registration required
        </p>
    </footer>
    
    <script>
        // ==================== INITIALIZE ====================
        window.onload = function() {
            console.log("TextCounter loaded");
            
            // Initial count
            updateCount();
            
            // Load all ads with delay (IMPORTANT!)
            setTimeout(loadAllAds, 1500);
            
            // Load PropellerAds In-Page Push after 5 seconds
            setTimeout(loadInPagePush, 5000);
            
            // Update stats display
            updateStatsDisplay();
        };
        
        // ==================== TEXT COUNTING FUNCTIONS ====================
        function updateCount() {
            const text = document.getElementById('textInput').value;
            
            // Character count
            const charCount = text.length;
            document.getElementById('charCount').textContent = charCount.toLocaleString();
            
            // Character count without spaces
            const charNoSpace = text.replace(/\s/g, '').length;
            document.getElementById('charNoSpace').textContent = charNoSpace.toLocaleString();
            
            // Word count
            const words = text.trim().split(/\s+/).filter(word => word.length > 0);
            const wordCount = text.trim() === '' ? 0 : words.length;
            document.getElementById('wordCount').textContent = wordCount.toLocaleString();
            
            // Sentence count
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            document.getElementById('sentenceCount').textContent = sentences.length.toLocaleString();
            
            // Paragraph count
            const paragraphs = text.split(/\n+/).filter(p => p.trim().length > 0);
            document.getElementById('paragraphCount').textContent = paragraphs.length.toLocaleString();
            
            // Reading time (average 200 words per minute)
            const readingTime = Math.ceil(wordCount / 200);
            document.getElementById('readingTime').textContent = readingTime + " min";
            
            // Update localStorage stats
            updateStats(wordCount);
            
            // Trigger monetization occasionally
            if (wordCount > 10 && wordCount % 20 === 0) {
                triggerMonetization();
            }
        }
        
        // ==================== TEXT MANIPULATION FUNCTIONS ====================
        function clearText() {
            document.getElementById('textInput').value = '';
            updateCount();
            showNotification('Text cleared!', 'success');
        }
        
        function copyText() {
            const text = document.getElementById('textInput').value;
            if (!text.trim()) {
                showNotification('No text to copy!', 'error');
                return;
            }
            
            navigator.clipboard.writeText(text)
                .then(() => {
                    showNotification('Text copied to clipboard!', 'success');
                })
                .catch(() => {
                    // Fallback
                    const textarea = document.createElement('textarea');
                    textarea.value = text;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    showNotification('Text copied to clipboard!', 'success');
                });
        }
        
        async function pasteText() {
            try {
                const text = await navigator.clipboard.readText();
                document.getElementById('textInput').value = text;
                updateCount();
                showNotification('Text pasted!', 'success');
            } catch (error) {
                showNotification('Unable to paste. Please paste manually.', 'error');
            }
        }
        
        function convertToUppercase() {
            const textarea = document.getElementById('textInput');
            textarea.value = textarea.value.toUpperCase();
            updateCount();
            showNotification('Converted to UPPERCASE!', 'success');
        }
        
        function convertToLowercase() {
            const textarea = document.getElementById('textInput');
            textarea.value = textarea.value.toLowerCase();
            updateCount();
            showNotification('Converted to lowercase!', 'success');
        }
        
        function removeExtraSpaces() {
            const textarea = document.getElementById('textInput');
            textarea.value = textarea.value.replace(/\s+/g, ' ').trim();
            updateCount();
            showNotification('Extra spaces removed!', 'success');
        }
        
        function reverseText() {
            const textarea = document.getElementById('textInput');
            textarea.value = textarea.value.split('').reverse().join('');
            updateCount();
            showNotification('Text reversed!', 'success');
        }
        
        // ==================== ADS LOADING (FIXED) ====================
        function loadAllAds() {
            console.log("Loading all ads...");
            
            // Adsterra Ads (300x250)
            loadAdsterraAd('topBannerAd', 90, 728, '7d3f7dcf6c27eb36646280d85dba51ed');
            loadAdsterraAd('bottomBannerAd', 90, 728, '7d3f7dcf6c27eb36646280d85dba51ed');
            
            // Left sidebar ads (160x600)
            loadAdsterraAd('leftAd1', 600, 160, '5e0812e16f5b229c05c8d853fc6f9253');
            loadAdsterraAd('leftAd2', 600, 160, 'df392223eb071195b98c897f97cb395d');
            
            // Inline ads (300x250)
            loadAdsterraAd('inlineAd1', 250, 300, 'df392223eb071195b98c897f97cb395d');
            loadAdsterraAd('inlineAd2', 250, 300, '7d3f7dcf6c27eb36646280d85dba51ed');
            
            // Right sidebar ads (160x600)
            loadAdsterraAd('rightAd1', 600, 160, '5e0812e16f5b229c05c8d853fc6f9253');
            loadAdsterraAd('rightAd2', 600, 160, 'df392223eb071195b98c897f97cb395d');
            loadAdsterraAd('rightAd3', 600, 160, '7d3f7dcf6c27eb36646280d85dba51ed');
        }
        
        function loadAdsterraAd(elementId, height, width, key) {
            // Delay each ad slightly to prevent blocking
            setTimeout(() => {
                try {
                    const element = document.getElementById(elementId);
                    if (!element) return;
                    
                    // Clear and create fresh iframe
                    element.innerHTML = '';
                    
                    const iframe = document.createElement('iframe');
                    iframe.id = `ad_${elementId}`;
                    iframe.width = width;
                    iframe.height = height;
                    iframe.frameBorder = 0;
                    iframe.scrolling = 'no';
                    iframe.style.border = 'none';
                    iframe.style.overflow = 'hidden';
                    iframe.style.display = 'block';
                    iframe.style.margin = '0 auto';
                    
                    // Create the script content
                    const scriptContent = `
                        <script>
                            atOptions = {
                                'key' : '${key}',
                                'format' : 'iframe',
                                'height' : ${height},
                                'width' : ${width},
                                'params' : {}
                            };
                        <\/script>
                        <script src="https://www.highperformanceformat.com/${key}/invoke.js"><\/script>
                    `;
                    
                    // Create a blob and load in iframe
                    const blob = new Blob([`
                        <!DOCTYPE html>
                        <html>
                        <head>
                            <title>Ad</title>
                            <style>body {margin:0;padding:0;}</style>
                        </head>
                        <body>
                            ${scriptContent}
                        </body>
                        </html>
                    `], { type: 'text/html' });
                    
                    iframe.src = URL.createObjectURL(blob);
                    element.appendChild(iframe);
                    
                    console.log(`Ad loaded: ${elementId}`);
                    
                } catch (error) {
                    console.log(`Failed to load ad ${elementId}:`, error);
                    // Fallback: Show CPA link
                    const element = document.getElementById(elementId);
                    if (element) {
                        element.innerHTML = `
                            <div style="padding: 10px; background: #f1f5f9; border-radius: 5px;">
                                <a href="https://otieu.com/4/10381160" target="_blank" 
                                   style="color: #3b82f6; text-decoration: none; font-weight: bold;">
                                   üöÄ Upgrade to Premium Text Tools - Click Here!
                                </a>
                            </div>
                        `;
                    }
                }
            }, Math.random() * 1000); // Random delay 0-1 second
        }
        
        // ==================== PROPELLERADS ====================
        function loadInPagePush() {
            console.log("Loading In-Page Push...");
            try {
                const script = document.createElement('script');
                script.dataset.zone = '10380895';
                script.src = 'https://nap5k.com/tag.min.js';
                script.async = true;
                document.body.appendChild(script);
                console.log("In-Page Push loaded");
            } catch (error) {
                console.log("In-Page Push failed:", error);
            }
        }
        
        function loadPopunder() {
            console.log("Loading Popunder...");
            try {
                const script = document.createElement('script');
                script.dataset.zone = '10380855';
                script.src = 'https://al5sm.com/tag.min.js';
                script.async = true;
                document.body.appendChild(script);
                console.log("Popunder loaded");
            } catch (error) {
                console.log("Popunder failed:", error);
            }
        }
        
        // ==================== MONETIZATION ====================
        function triggerMonetization() {
            const totalWords = parseInt(localStorage.getItem('total_words_counted') || '0');
            
            // Trigger Popunder every 1000 words
            if (totalWords > 0 && totalWords % 1000 === 0) {
                setTimeout(loadPopunder, 2000);
            }
            
            // Show premium offer occasionally
            if (totalWords > 500 && totalWords % 750 === 0) {
                setTimeout(showPremiumOffer, 3000);
            }
        }
        
        function showPremiumOffer() {
            // Open CPA offer
            window.open('https://otieu.com/4/10381160', '_blank', 'noopener,noreferrer');
            
            // Also trigger In-Page Push
            setTimeout(loadInPagePush, 300);
        }
        
        // ==================== STATS ====================
        function updateStats(wordCount) {
            if (wordCount > 0) {
                const totalWords = parseInt(localStorage.getItem('total_words_counted') || '0');
                localStorage.setItem('total_words_counted', totalWords + wordCount);
            }
        }
        
        function updateStatsDisplay() {
            const totalWords = parseInt(localStorage.getItem('total_words_counted') || '0');
            const totalChars = parseInt(localStorage.getItem('total_chars_counted') || '0');
            
            // You could display these somewhere
            console.log(`Total words counted: ${totalWords}`);
            console.log(`Total chars counted: ${totalChars}`);
        }
        
        // ==================== UI FUNCTIONS ====================
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.style.background = type === 'success' ? '#10b981' : 
                                          type === 'error' ? '#ef4444' : '#3b82f6';
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <span>${type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è'}</span>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        // ==================== AUTO-SAVE TEXT ====================
        let saveTimeout;
        document.getElementById('textInput').addEventListener('input', function() {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => {
                const text = this.value;
                if (text.trim().length > 0) {
                    localStorage.setItem('last_text', text);
                }
            }, 1000);
        });
        
        // Load last saved text
        const lastText = localStorage.getItem('last_text');
        if (lastText) {
            document.getElementById('textInput').value = lastText;
            updateCount();
        }
    </script>
</body>
</html>
